{"ast":null,"code":"var _jsxFileName = \"/Users/akshaysawant/Downloads/Test/frontend/src/components/WalletStatus.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$();\n\nimport { useWeb3React } from '@web3-react/core';\nimport { ethers } from 'ethers';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledWalletStatusDiv = styled.div`\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: 0.6fr 0.1fr 0.6fr 1fr 0.1fr 0.6fr 0.5fr 0.1fr 1.1fr 0.4fr 0.1fr 1fr 0.9fr 0.1fr 0.7fr 0.1fr;\n  grid-gap: 10px;\n  place-self: center;\n  align-items: center;\n`;\n_c = StyledWalletStatusDiv;\nconst StyledStatusIcon = styled.h1`\n  margin: 0px;\n`;\n_c2 = StyledStatusIcon;\n\nfunction ChainId() {\n  _s();\n\n  const {\n    chainId\n  } = useWeb3React();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Chain Id\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      role: \"img\",\n      \"aria-label\": \"chain\",\n      children: \"\\u26D3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: chainId !== null && chainId !== void 0 ? chainId : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ChainId, \"reA9FJLirN6bQm5X4sUUozGx1bA=\", false, function () {\n  return [useWeb3React];\n});\n\n_c3 = ChainId;\n\nfunction BlockNumber() {\n  _s2();\n\n  const {\n    chainId,\n    library\n  } = useWeb3React();\n  const [blockNumber, setBlockNumber] = useState();\n  useEffect(() => {\n    if (!library) {\n      return;\n    }\n\n    let stale = false;\n\n    async function getBlockNumber(library) {\n      try {\n        const blockNumber = await library.getBlockNumber();\n\n        if (!stale) {\n          setBlockNumber(blockNumber);\n        }\n      } catch (error) {\n        if (!stale) {\n          setBlockNumber(undefined);\n        }\n\n        window.alert('Error!' + (error && error.message ? `\\n\\n${error.message}` : ''));\n      }\n    }\n\n    getBlockNumber(library);\n    library.on('block', setBlockNumber); // cleanup function\n\n    return () => {\n      stale = true;\n      library.removeListener('block', setBlockNumber);\n      setBlockNumber(undefined);\n    };\n  }, [library, chainId]); // ensures refresh if referential identity of library doesn't change across chainIds\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Block Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      role: \"img\",\n      \"aria-label\": \"numbers\",\n      children: \"\\uD83D\\uDD22\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: blockNumber === null ? 'Error' : blockNumber !== null && blockNumber !== void 0 ? blockNumber : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(BlockNumber, \"0DoBuqyGtF4sYtNebgbnhkk9wTw=\", false, function () {\n  return [useWeb3React];\n});\n\n_c4 = BlockNumber;\n\nfunction Account() {\n  _s3();\n\n  const {\n    account\n  } = useWeb3React();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      role: \"img\",\n      \"aria-label\": \"robot\",\n      children: \"\\uD83E\\uDD16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: typeof account === 'undefined' ? '' : account ? `${account.substring(0, 6)}...${account.substring(account.length - 4)}` : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s3(Account, \"Yw4fkvk9SNw3FxQ8wmZp/p1e7+E=\", false, function () {\n  return [useWeb3React];\n});\n\n_c5 = Account;\n\nfunction Balance() {\n  _s4();\n\n  const {\n    account,\n    library,\n    chainId\n  } = useWeb3React();\n  const [balance, setBalance] = useState();\n  useEffect(() => {\n    if (typeof account === 'undefined' || account === null || !library) {\n      return;\n    }\n\n    let stale = false;\n\n    async function getBalance(library, account) {\n      const balance = await library.getBalance(account);\n\n      try {\n        if (!stale) {\n          setBalance(balance);\n        }\n      } catch (error) {\n        if (!stale) {\n          setBalance(undefined);\n          window.alert('Error!' + (error && error.message ? `\\n\\n${error.message}` : ''));\n        }\n      }\n    }\n\n    getBalance(library, account); // create a named balancer handler function to fetch the balance each block. in the\n    // cleanup function use the fucntion name to remove the listener\n\n    const getBalanceHandler = () => {\n      getBalance(library, account);\n    };\n\n    library.on('block', getBalanceHandler); // cleanup function\n\n    return () => {\n      stale = true;\n      library.removeListener('block', getBalanceHandler);\n      setBalance(undefined);\n    };\n  }, [account, library, chainId]); // ensures refresh if referential identity of library doesn't change across chainIds\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Balance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      role: \"img\",\n      \"aria-label\": \"gold\",\n      children: \"\\uD83D\\uDCB0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: balance === null ? 'Error' : balance ? `Ξ${Math.round(+ethers.utils.formatEther(balance) * 1e4) / 1e4}` : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n} // nonce: aka 'transaction count'\n\n\n_s4(Balance, \"M1WVM1XYBvl8/UPoZ+Zp2BzPIno=\", false, function () {\n  return [useWeb3React];\n});\n\n_c6 = Balance;\n\nfunction NextNonce() {\n  _s5();\n\n  const {\n    account,\n    library,\n    chainId\n  } = useWeb3React();\n  const [nextNonce, setNextNonce] = useState();\n  useEffect(() => {\n    if (typeof account === 'undefined' || account === null || !library) {\n      return;\n    }\n\n    let stale = false;\n\n    async function getNextNonce(library, account) {\n      const nextNonce = await library.getTransactionCount(account);\n\n      try {\n        if (!stale) {\n          setNextNonce(nextNonce);\n        }\n      } catch (error) {\n        if (!stale) {\n          setNextNonce(undefined);\n          window.alert('Error!' + (error && error.message ? `\\n\\n${error.message}` : ''));\n        }\n      }\n    }\n\n    getNextNonce(library, account); // create a named next nonce handler function to fetch the next nonce each block.\n    // in the cleanup function use the fucntion name to remove the listener\n\n    const getNextNonceHandler = () => {\n      getNextNonce(library, account);\n    };\n\n    library.on('block', getNextNonceHandler); // cleanup function\n\n    return () => {\n      stale = true;\n      setNextNonce(undefined);\n    };\n  }, [account, library, chainId]); // ensures refresh if referential identity of library doesn't change across chainIds\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Next Nonce\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      role: \"img\",\n      \"aria-label\": \"gold\",\n      children: \"#\\uFE0F\\u20E3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: nextNonce === null ? 'Error' : nextNonce !== null && nextNonce !== void 0 ? nextNonce : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s5(NextNonce, \"XWl0NMWWTTUzz4pyk2rPrIppXT0=\", false, function () {\n  return [useWeb3React];\n});\n\n_c7 = NextNonce;\n\nfunction StatusIcon() {\n  _s6();\n\n  const {\n    active,\n    error\n  } = useWeb3React();\n  return /*#__PURE__*/_jsxDEV(StyledStatusIcon, {\n    children: active ? '🟢' : error ? '🔴' : '🟠'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 255,\n    columnNumber: 5\n  }, this);\n}\n\n_s6(StatusIcon, \"5Wc8Z9LF2TZggKnK8RHaXo3D1Z0=\", false, function () {\n  return [useWeb3React];\n});\n\n_c8 = StatusIcon;\nexport function WalletStatus() {\n  return /*#__PURE__*/_jsxDEV(StyledWalletStatusDiv, {\n    children: [/*#__PURE__*/_jsxDEV(ChainId, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BlockNumber, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Account, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Balance, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NextNonce, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StatusIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n}\n_c9 = WalletStatus;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"StyledWalletStatusDiv\");\n$RefreshReg$(_c2, \"StyledStatusIcon\");\n$RefreshReg$(_c3, \"ChainId\");\n$RefreshReg$(_c4, \"BlockNumber\");\n$RefreshReg$(_c5, \"Account\");\n$RefreshReg$(_c6, \"Balance\");\n$RefreshReg$(_c7, \"NextNonce\");\n$RefreshReg$(_c8, \"StatusIcon\");\n$RefreshReg$(_c9, \"WalletStatus\");","map":{"version":3,"sources":["/Users/akshaysawant/Downloads/Test/frontend/src/components/WalletStatus.tsx"],"names":["useWeb3React","ethers","useEffect","useState","styled","StyledWalletStatusDiv","div","StyledStatusIcon","h1","ChainId","chainId","BlockNumber","library","blockNumber","setBlockNumber","stale","getBlockNumber","error","undefined","window","alert","message","on","removeListener","Account","account","substring","length","Balance","balance","setBalance","getBalance","getBalanceHandler","Math","round","utils","formatEther","NextNonce","nextNonce","setNextNonce","getNextNonce","getTransactionCount","getNextNonceHandler","StatusIcon","active","WalletStatus"],"mappings":"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","sourcesContent":["import { useWeb3React } from '@web3-react/core';\nimport { ethers } from 'ethers';\nimport { ReactElement, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Provider } from '../utils/provider';\n\ntype CleanupFunction = (() => void) | undefined;\n\nconst StyledWalletStatusDiv = styled.div`\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: 0.6fr 0.1fr 0.6fr 1fr 0.1fr 0.6fr 0.5fr 0.1fr 1.1fr 0.4fr 0.1fr 1fr 0.9fr 0.1fr 0.7fr 0.1fr;\n  grid-gap: 10px;\n  place-self: center;\n  align-items: center;\n`;\n\nconst StyledStatusIcon = styled.h1`\n  margin: 0px;\n`;\n\nfunction ChainId(): ReactElement {\n  const { chainId } = useWeb3React<Provider>();\n\n  return (\n    <>\n      <span>\n        <strong>Chain Id</strong>\n      </span>\n      <span role=\"img\" aria-label=\"chain\">\n        ⛓\n      </span>\n      <span>{chainId ?? ''}</span>\n    </>\n  );\n}\n\nfunction BlockNumber(): ReactElement {\n  const { chainId, library } = useWeb3React<Provider>();\n\n  const [blockNumber, setBlockNumber] = useState<number>();\n\n  useEffect((): CleanupFunction => {\n    if (!library) {\n      return;\n    }\n\n    let stale = false;\n\n    async function getBlockNumber(library: Provider): Promise<void> {\n      try {\n        const blockNumber: number = await library.getBlockNumber();\n\n        if (!stale) {\n          setBlockNumber(blockNumber);\n        }\n      } catch (error: any) {\n        if (!stale) {\n          setBlockNumber(undefined);\n        }\n\n        window.alert(\n          'Error!' + (error && error.message ? `\\n\\n${error.message}` : '')\n        );\n      }\n    }\n\n    getBlockNumber(library);\n\n    library.on('block', setBlockNumber);\n\n    // cleanup function\n    return (): void => {\n      stale = true;\n      library.removeListener('block', setBlockNumber);\n      setBlockNumber(undefined);\n    };\n  }, [library, chainId]); // ensures refresh if referential identity of library doesn't change across chainIds\n\n  return (\n    <>\n      <span>\n        <strong>Block Number</strong>\n      </span>\n      <span role=\"img\" aria-label=\"numbers\">\n        🔢\n      </span>\n      <span>{blockNumber === null ? 'Error' : blockNumber ?? ''}</span>\n    </>\n  );\n}\n\nfunction Account(): ReactElement {\n  const { account } = useWeb3React<Provider>();\n\n  return (\n    <>\n      <span>\n        <strong>Account</strong>\n      </span>\n      <span role=\"img\" aria-label=\"robot\">\n        🤖\n      </span>\n      <span>\n        {typeof account === 'undefined'\n          ? ''\n          : account\n          ? `${account.substring(0, 6)}...${account.substring(\n              account.length - 4\n            )}`\n          : ''}\n      </span>\n    </>\n  );\n}\n\nfunction Balance(): ReactElement {\n  const { account, library, chainId } = useWeb3React<Provider>();\n\n  const [balance, setBalance] = useState<ethers.BigNumber>();\n\n  useEffect((): CleanupFunction => {\n    if (typeof account === 'undefined' || account === null || !library) {\n      return;\n    }\n\n    let stale = false;\n\n    async function getBalance(\n      library: Provider,\n      account: string\n    ): Promise<void> {\n      const balance: ethers.BigNumber = await library.getBalance(account);\n\n      try {\n        if (!stale) {\n          setBalance(balance);\n        }\n      } catch (error: any) {\n        if (!stale) {\n          setBalance(undefined);\n\n          window.alert(\n            'Error!' + (error && error.message ? `\\n\\n${error.message}` : '')\n          );\n        }\n      }\n    }\n\n    getBalance(library, account);\n\n    // create a named balancer handler function to fetch the balance each block. in the\n    // cleanup function use the fucntion name to remove the listener\n    const getBalanceHandler = (): void => {\n      getBalance(library, account);\n    };\n\n    library.on('block', getBalanceHandler);\n\n    // cleanup function\n    return (): void => {\n      stale = true;\n      library.removeListener('block', getBalanceHandler);\n      setBalance(undefined);\n    };\n  }, [account, library, chainId]); // ensures refresh if referential identity of library doesn't change across chainIds\n\n  return (\n    <>\n      <span>\n        <strong>Balance</strong>\n      </span>\n      <span role=\"img\" aria-label=\"gold\">\n        💰\n      </span>\n      <span>\n        {balance === null\n          ? 'Error'\n          : balance\n          ? `Ξ${Math.round(+ethers.utils.formatEther(balance) * 1e4) / 1e4}`\n          : ''}\n      </span>\n    </>\n  );\n}\n\n// nonce: aka 'transaction count'\nfunction NextNonce(): ReactElement {\n  const { account, library, chainId } = useWeb3React<Provider>();\n\n  const [nextNonce, setNextNonce] = useState<number>();\n\n  useEffect((): CleanupFunction => {\n    if (typeof account === 'undefined' || account === null || !library) {\n      return;\n    }\n\n    let stale = false;\n\n    async function getNextNonce(\n      library: Provider,\n      account: string\n    ): Promise<void> {\n      const nextNonce: number = await library.getTransactionCount(account);\n\n      try {\n        if (!stale) {\n          setNextNonce(nextNonce);\n        }\n      } catch (error: any) {\n        if (!stale) {\n          setNextNonce(undefined);\n\n          window.alert(\n            'Error!' + (error && error.message ? `\\n\\n${error.message}` : '')\n          );\n        }\n      }\n    }\n\n    getNextNonce(library, account);\n\n    // create a named next nonce handler function to fetch the next nonce each block.\n    // in the cleanup function use the fucntion name to remove the listener\n    const getNextNonceHandler = (): void => {\n      getNextNonce(library, account);\n    };\n\n    library.on('block', getNextNonceHandler);\n\n    // cleanup function\n    return (): void => {\n      stale = true;\n      setNextNonce(undefined);\n    };\n  }, [account, library, chainId]); // ensures refresh if referential identity of library doesn't change across chainIds\n\n  return (\n    <>\n      <span>\n        <strong>Next Nonce</strong>\n      </span>\n      <span role=\"img\" aria-label=\"gold\">\n        #️⃣\n      </span>\n      <span>{nextNonce === null ? 'Error' : nextNonce ?? ''}</span>\n    </>\n  );\n}\n\nfunction StatusIcon(): ReactElement {\n  const { active, error } = useWeb3React<Provider>();\n\n  return (\n    <StyledStatusIcon>{active ? '🟢' : error ? '🔴' : '🟠'}</StyledStatusIcon>\n  );\n}\n\nexport function WalletStatus(): ReactElement {\n  return (\n    <StyledWalletStatusDiv>\n      <ChainId />\n      <BlockNumber />\n      <Account />\n      <Balance />\n      <NextNonce />\n      <StatusIcon />\n    </StyledWalletStatusDiv>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}